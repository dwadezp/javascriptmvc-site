(function(i){var f={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},l=function(a,b,d){return a[b]!==undefined?a[b]:d&&(a[b]={})},j=function(a){return(a=typeof a)&&(a=="function"||a=="object")},m=function(a,b,d){a=a?a.split(f.dot):[];var g=a.length;b=i.isArray(b)?b:[b||window];var e,h,k,n=0;if(g==0)return b[0];for(;e=b[n++];){for(k=0;k<g-1&&j(e);k++)e=l(e,a[k],d);if(j(e)){h=l(e,a[k],d);if(h!==undefined){d===
false&&delete e[a[k]];return h}}}},c=i.String=i.extend(i.String||{},{getObject:m,capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){a=c.classize(a);return a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,b){a=a.split(f.undHash);for(var d=0;d<a.length;d++)a[d]=c.capitalize(a[d]);return a.join(b||"")},niceName:function(a){return c.classize(a," ")},underscore:function(a){return a.replace(f.colons,"/").replace(f.words,"$1_$2").replace(f.lowUp,"$1_$2").replace(f.dash,
"_").toLowerCase()},sub:function(a,b,d){var g=[];g.push(a.replace(f.replacer,function(e,h){e=m(h,b,typeof d=="boolean"?!d:d);h=typeof e;if((h==="object"||h==="function")&&h!==null){g.push(e);return""}else return""+e}));return g.length<=1?g[0]:g},_regs:f})})(jQuery);
(function(i){var f=i.isArray,l=function(c){var a=0;for(var b in c)a++;return a},j=function(c,a,b){var d=typeof c,g=f(c);if(b===-1)return d==="object"||c===a;if(d!==typeof a||g!==f(a))return false;if(c===a)return true;if(g){if(c.length!==a.length)return false;for(b=0;b<c.length;b++)if(!j(c[b],a[b]))return false;return true}else if(d==="object"||d==="function"){d=0;for(var e in c){if(!j(c[e],a[e],b===false?-1:undefined))return false;d++}return d===l(a)}return false},m=function(c){var a={};for(var b in c)if(typeof c[b]!==
"object"||c[b]===null)a[b]=c[b];return a};i.extend(i.Model.prototype,{backup:function(){this._backupStore=this.serialize();return this},isDirty:function(c){return this._backupStore?!j(this.serialize(),this._backupStore,!!c):false},restore:function(c){this.attrs(c?this._backupStore:m(this._backupStore));return this}})})(jQuery);

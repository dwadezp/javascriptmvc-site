(function(h){var f={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},l=function(a,b,c){return a[b]!==undefined?a[b]:c&&(a[b]={})},i=function(a){var b=typeof a;return a&&(b=="function"||b=="object")},m,d=h.String=h.extend(h.String||{},{getObject:m=function(a,b,c){a=a?a.split(f.dot):[];var g=a.length,e,k,j,n=0;b=h.isArray(b)?b:[b||window];if(g==0)return b[0];for(;e=b[n++];){for(j=0;j<g-1&&i(e);j++)e=l(e,a[j],
c);if(i(e)){k=l(e,a[j],c);if(k!==undefined){c===false&&delete e[a[j]];return k}}}},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){a=d.classize(a);return a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,b){a=a.split(f.undHash);for(var c=0;c<a.length;c++)a[c]=d.capitalize(a[c]);return a.join(b||"")},niceName:function(a){return d.classize(a," ")},underscore:function(a){return a.replace(f.colons,"/").replace(f.words,"$1_$2").replace(f.lowUp,"$1_$2").replace(f.dash,
"_").toLowerCase()},sub:function(a,b,c){var g=[];c=typeof c=="boolean"?!c:c;g.push(a.replace(f.replacer,function(e,k){e=m(k,b,c);if(i(e)){g.push(e);return""}else return""+e}));return g.length<=1?g[0]:g},_regs:f})})(jQuery);
(function(h){var f=h.isArray,l=function(d){var a=0;for(var b in d)a++;return a},i=function(d,a,b){var c=typeof d,g=f(d);if(b===-1)return c==="object"||d===a;if(c!==typeof a||g!==f(a))return false;if(d===a)return true;if(g){if(d.length!==a.length)return false;for(b=0;b<d.length;b++)if(!i(d[b],a[b]))return false;return true}else if(c==="object"||c==="function"){c=0;for(var e in d){if(!i(d[e],a[e],b===false?-1:undefined))return false;c++}return c===l(a)}return false},m=function(d){var a={};for(var b in d)if(typeof d[b]!==
"object"||d[b]===null)a[b]=d[b];return a};h.extend(h.Model.prototype,{backup:function(){this._backupStore=this.serialize();return this},isDirty:function(d){return this._backupStore?!i(this.serialize(),this._backupStore,!!d):false},restore:function(d){this.attrs(d?this._backupStore:m(this._backupStore));return this}})})(jQuery);

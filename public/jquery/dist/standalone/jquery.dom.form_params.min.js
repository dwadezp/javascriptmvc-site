(function(e){var k=/[^\[\]]+/g,l=function(b){if(e.isNumeric(b))return parseFloat(b);else if(b==="true")return true;else if(b==="false")return false;else if(b==="")return;return b},j=function(b,c,a,f,h,g){var d=f.shift();if(f.length){a[d]||(a[d]={});j(b,c,a[d],f,h,g)}else{if(d in g&&c!="radio"&&!e.isArray(a[d]))a[d]=d in a?[a[d]]:[];else g[d]=true;if(!((c=="radio"||c=="checkbox")&&!b.is(":checked")))if(a[d])a[d].push(h);else a[d]=h}};e.fn.extend({formParams:function(b){var c;if(!!b===b){c=b;b=null}return b?
this.setParams(b):this.getParams(c)},setParams:function(b){this.find("[name]").each(function(){var c=b[e(this).attr("name")],a;if(c!==undefined){a=e(this);if(a.is(":radio"))a.val()==c&&a.attr("checked",true);else if(a.is(":checkbox")){c=e.isArray(c)?c:[c];e.inArray(a.val(),c)>-1&&a.attr("checked",true)}else a.val(c)}})},getParams:function(b){var c={},a={};this.find("[name]").each(function(){var f=e(this),h=f.attr("type"),g=f.attr("name"),d=f.val(),i;if(!(h=="submit"||!g)){i=g.match(k);i.length||(i=
[g]);if(b)d=l(d);j(f,h,c,i,d,a)}});return c}})})(jQuery);

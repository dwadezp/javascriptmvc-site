(function(){var f=steal.URI||steal.File;jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")};jQuery.Controller._calculatePosition=function(a,b,c){var d=a.fullName.split("."),e=d.slice(0);e.splice(0,2);e.join("/");d=(a=d.length>2&&d[1]=="Controllers")?jQuery.String.underscore(d[0]):jQuery.String.underscore(d.join("/"));e=jQuery.String.underscore(e.join("/")).toLowerCase();var g=typeof b=="string"&&/\.[\w\d]+$/.test(b)?
"":jQuery.View.ext;if(typeof b=="string"){if(b.substr(0,2)!="//")b="//"+f(d).join("views/"+(b.indexOf("/")!==-1?b:(a?e+"/":"")+b))+g}else b||(b="//"+f(d).join("views/"+(a?e+"/":"")+c.replace(/\.|#/g,"").replace(/ /g,"_"))+g);return b};var h=function(a){var b={};if(a)if(jQuery.isArray(a))for(var c=0;c<a.length;c++)jQuery.extend(b,a[c]);else jQuery.extend(b,a);else{if(this._default_helpers)b=this._default_helpers;a=window;c=this.constructor.fullName.split(/\./);for(var d=0;d<c.length;d++)if(a){typeof a.Helpers==
"object"&&jQuery.extend(b,a.Helpers);a=a[c[d]]}a&&typeof a.Helpers=="object"&&jQuery.extend(b,a.Helpers);this._default_helpers=b}return b};jQuery.Controller.prototype.view=function(a,b,c){if(typeof a!="string"&&!c){c=b;b=a;a=null}a=jQuery.Controller._calculatePosition(this.Class,a,this.called);b=b||this;c=h.call(this,c);return jQuery.View(a,b,c)}})(jQuery);

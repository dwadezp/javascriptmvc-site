(function(f){var n=document.defaultView&&document.defaultView.getComputedStyle,b=/([A-Z])/g,c=/-([a-z])/ig,a=function(d,o){return o.toUpperCase()},g=function(d){if(n)return n(d,null);else if(d.currentStyle)return d.currentStyle},k=/float/i,l=/^-?\d+(?:px)?$/i,m=/^-?\d/;f.curStyles=function(d,o){if(!d)return null;for(var q=g(d),h,i,p=d.style,j={},r=0,e,s;r<o.length;r++){e=o[r];h=e.replace(c,a);if(k.test(e)){e=jQuery.support.cssFloat?"float":"styleFloat";h="cssFloat"}if(n){e=e.replace(b,"-$1").toLowerCase();
i=q.getPropertyValue(e);if(e==="opacity"&&i==="")i="1";j[h]=i}else{i=e.replace(c,a);j[h]=q[e]||q[i];if(!l.test(j[h])&&m.test(j[h])){e=p.left;s=d.runtimeStyle.left;d.runtimeStyle.left=d.currentStyle.left;p.left=i==="fontSize"?"1em":j[h]||0;j[h]=p.pixelLeft+"px";p.left=e;d.runtimeStyle.left=s}}}return j};f.fn.curStyles=function(){return f.curStyles(this[0],f.makeArray(arguments))}})(jQuery);
(function(f){f.Drag.prototype.limit=function(b,c){var a=b.curStyles("borderTopWidth","paddingTop","borderLeftWidth","paddingLeft");a=new f.Vector(parseInt(a.borderLeftWidth,10)+parseInt(a.paddingLeft,10)||0,parseInt(a.borderTopWidth,10)+parseInt(a.paddingTop,10)||0);this._limit={offset:b.offsetv().plus(a),size:b.dimensionsv(),center:c===true?"both":c};return this};var n=f.Drag.prototype.position;f.Drag.prototype.position=function(b){if(this._limit){var c=this._limit,a=c.center&&c.center.toLowerCase(),
g=this.movingElement.dimensionsv("outer"),k=a&&a!="x"?g.height()/2:0;a=a&&a!="y"?g.width()/2:0;var l=c.offset.top(),m=c.offset.left(),d=c.size.height();c=c.size.width();b.top()+k<l&&b.top(l-k);b.top()+g.height()-k>l+d&&b.top(l+d-g.height()+k);b.left()+a<m&&b.left(m-a);b.left()+g.width()-a>m+c&&b.left(m+c-g.left()+a)}n.call(this,b)}})(jQuery);

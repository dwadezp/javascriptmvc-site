(function(j){var h={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},g=function(a,d,f){return a[d]!==undefined?a[d]:f&&(a[d]={})},b=function(a){return(a=typeof a)&&(a=="function"||a=="object")},c=function(a,d,f){a=a?a.split(h.dot):[];var l=a.length;d=j.isArray(d)?d:[d||window];var i,k,m,n=0;if(l==0)return d[0];for(;i=d[n++];){for(m=0;m<l-1&&b(i);m++)i=g(i,a[m],f);if(b(i)){k=g(i,a[m],f);if(k!==undefined){f===
false&&delete i[a[m]];return k}}}},e=j.String=j.extend(j.String||{},{getObject:c,capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){a=e.classize(a);return a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,d){a=a.split(h.undHash);for(var f=0;f<a.length;f++)a[f]=e.capitalize(a[f]);return a.join(d||"")},niceName:function(a){return e.classize(a," ")},underscore:function(a){return a.replace(h.colons,"/").replace(h.words,"$1_$2").replace(h.lowUp,"$1_$2").replace(h.dash,
"_").toLowerCase()},sub:function(a,d,f){var l=[];l.push(a.replace(h.replacer,function(i,k){i=c(k,d,typeof f=="boolean"?!f:f);k=typeof i;if((k==="object"||k==="function")&&k!==null){l.push(i);return""}else return""+i}));return l.length<=1?l[0]:l},_regs:h})})(jQuery);
(function(j){var h=function(g,b,c){if(!c){c=b;b={}}b=b||{};g=j.makeArray(g);if(!(b.testIf&&!b.testIf.call(this))){var e=this;j.each(g,function(a,d){e.validations[d]||(e.validations[d]=[]);e.validations[d].push(function(){var f=c.call(this,this[d]);return f===undefined?undefined:b.message||f})})}};j.extend(j.Model,{validate:h,validationMessages:{format:"is invalid",inclusion:"is not a valid option (perhaps out of range)",lengthShort:"is too short",lengthLong:"is too long",presence:"can't be empty",
range:"is out of range"},validateFormatOf:function(g,b,c){h.call(this,g,c,function(e){if(typeof e!="undefined"&&e!=""&&String(e).match(b)==null)return this.Class.validationMessages.format})},validateInclusionOf:function(g,b,c){h.call(this,g,c,function(e){if(typeof e!="undefined")if(j.grep(b,function(a){return a==e}).length==0)return this.Class.validationMessages.inclusion})},validateLengthOf:function(g,b,c,e){h.call(this,g,e,function(a){if(typeof a=="undefined"&&b>0||a.length<b)return this.Class.validationMessages.lengthShort+
" (min="+b+")";else if(typeof a!="undefined"&&a.length>c)return this.Class.validationMessages.lengthLong+" (max="+c+")"})},validatePresenceOf:function(g,b){h.call(this,g,b,function(c){if(typeof c=="undefined"||c==""||c===null)return this.Class.validationMessages.presence})},validateRangeOf:function(g,b,c,e){h.call(this,g,e,function(a){if(typeof a!="undefined"&&a<b||a>c)return this.Class.validationMessages.range+" ["+b+","+c+"]"})}})})(jQuery);

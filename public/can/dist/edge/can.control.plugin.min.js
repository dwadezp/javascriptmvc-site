(function(c){var e,i=c.makeArray,k=c.Control.setup;c.Control.setup=function(){if(this!==c.Control){var a=this.pluginName||this._fullName;"can_control"!==a&&this.plugin(a);k.apply(this,arguments)}};c.prototype.extend({controllers:function(){var a=i(arguments),j=[],b,g,h;this.each(function(){b=c.$(this).data("controllers");for(h in b)if(b.hasOwnProperty(h)){g=b[h];var f;if(!(f=!a.length))a:{f=g;var d=a;for(e=0;e<d.length;e++)if("string"==typeof d[e]?f.constructor._shortName==d[e]:f instanceof d[e]){f=
!0;break a}f=!1}f&&j.push(g)}});return j},controller:function(a){return this.controllers.apply(this,arguments)[0]}});c.Control.plugin=function(a){var e=this;c.prototype[a]||(c.prototype[a]=function(b){var g=i(arguments),h="string"==typeof b&&$.isFunction(e.prototype[b]),f=g[0];return this.each(function(){var d;d=c.$(this);d.data("controllers",{});var b=(d=d.data("controllers"))&&d[a];b?h?b[f].apply(b,g.slice(1)):b.update.apply(b,g):d[a]=e.newInstance.apply(e,[this].concat(g))})})};c.Control.prototype.update=
function(a){extend(this.options,a);this.on()}})(can={},this);

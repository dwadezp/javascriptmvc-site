(function(a){var d,i=function(b,k){var c=a.$(b);c.data("controllers")||c.data("controllers",k||{});return c.data("controllers")},j=a.makeArray,l=a.Control.setup;a.Control.setup=function(){if(this!==a.Control){var b=this.pluginName||this._fullName;"can_control"!==b&&this.plugin(b);l.apply(this,arguments)}};a.prototype.extend({controllers:function(){var b=j(arguments),a=[],c,f,g;this.each(function(){c=i(this);for(g in c)if(c.hasOwnProperty(g)){f=c[g];var e;if(!(e=!b.length))a:{e=f;var h=b;for(d=0;d<
h.length;d++)if("string"==typeof h[d]?e.constructor._shortName==h[d]:e instanceof h[d]){e=!0;break a}e=!1}e&&a.push(f)}});return a},controller:function(b){return this.controllers.apply(this,arguments)[0]}});a.Control.plugin=function(b){var d=this;a.prototype[b]||(a.prototype[b]=function(a){var f=j(arguments),g="string"==typeof a&&$.isFunction(d.prototype[a]),e=f[0];return this.each(function(){var a=i(this),c=a&&a[b];c?g?c[e].apply(c,f.slice(1)):c.update.apply(c,f):a[b]=d.newInstance.apply(d,[this].concat(f))})})};
a.Control.prototype.update=function(b){a.extend(this.options,b);this.on()}})(can={},this);

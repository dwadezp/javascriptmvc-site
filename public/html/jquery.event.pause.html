<head><script type="text/javascript" src="http://localhost:5555?[]&amp;_=0.49996523815207183"></script>
	<title>JavaScriptMVC</title>
	<link rel="stylesheet" type="text/css" href="../documentjs/jmvcdoc/style.css">
	<link rel="shortcut icon" href="../documentjs/jmvcdoc/images/favicon.ico">
<link rel="stylesheet" href="file:////Users/alexisabril/Projects/javascriptmvc/documentjs/jmvcdoc/style.css" type="text/css"><script src="http://jmvcs3.disqus.com/thread.js?url=file:////Users/alexisabril/Projects/javascriptmvc/jmvc/docs.html?steal%5Bbrowser%5D=phantomjs&steal%5BstartFiles%5D=steal/browser/phantomjs/client.js#!jQuery.Range.static.current&amp;title=&amp;sort=&amp;per_page&amp;category_id=&amp;developer=0&amp;identifier=#!jQuery.Range.static.current&amp;disqus_version=1318875915&amp;1318909410847" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1318875915/build/system//defaults.css"><script src="http://mediacdn.disqus.com/1318875915/build/system/disqus.js?" charset="UTF-8"></script></head><body>
<div id="documentation">
	<div id="top">
		<div class="topCorner">
			<div class="right"></div>
			<div class="left"></div>
		</div>
		<div class="content">
			<div id="searchRoundCorners">
				<div class="jmvcdoc_search"><input id="search" type="input"><span title="clear term" class="remove"></span></div>
			</div>
			<div id="defaults">
				<ul id="menu" class="ui-menu">
					<li class="ui-menu-item">
						<a class="menuLink" href="#favorites"><span class="menuSpan">Favorites</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../follow.html" title="Follow"><span class="menuSpan red">Follow</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../contribute.html" title="Contribute"><span class="menuSpan red">Contribute</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../code.html" title="Code"><span class="menuSpan red">Code</span></a>
					</li>
				</ul>
			</div>
			<div class="logo-text"><a href="http://javascriptmvc.com"><img src="../documentjs/jmvcdoc/images/logo80x30.png" class="logo-image"></a></div>
		</div>
		<div class="bottomCorner">
			<div>&nbsp;</div>
		</div>
	</div>
	<div id="bottom">
		<div id="nav" class="jmvcdoc_nav">


	<div id="selected">
		    
				
		<div class="content">
			    <a href="#!" class="selected choice page" style="padding-left: 20px">
			    	
					JavaScriptMVC
					
				</a>
				
		</div>
			
		<div class="spacer"><div>&nbsp;</div></div>
			
			
				
		<div class="content">
			    <a href="#!jquerymx" class="selected choice page" style="padding-left: 20px">
			    	
						<span class="remove" title="close"></span>
					
					jQueryMX
					
				</a>
				
		</div>
			
		<div class="spacer"><div>&nbsp;</div></div>
			
			
				
		<div class="content">
			    <a href="#!specialevents" class="selected choice page" style="padding-left: 20px">
			    	
						<span class="remove" title="close"></span>
					
					Special Events
					
				</a>
				
		</div>
			
		<div class="spacer"><div>&nbsp;</div></div>
			
			
				
		<div class="content">
			    <a href="#!jquery.event.pause" class="selected choice page" style="padding-left: 20px">
			    	
						<span class="remove" title="close"></span>
					
					Pause-Resume
					
				</a>
				
		</div>
			
			
	</div>

<div id="results" style="display: block">
	<div class="content">
	    
			
		    <a href="#!jQuery.fn.triggerAsync" class="result choice function" style="padding-left: 20px">
		    	$.fn.triggerAsync
			</a>
			
		
	</div>
</div>


</div>
		<div id="doc_container">
			<div id="doc" class="jmvcdoc_content">
<div class="top">
	<div class="content">
	    <h1>Pause-Resume&nbsp;
	    	<span class="page type"><span class="typeEnd">page</span></span>&nbsp;
	    	<span class="favorite favoriteoff">&nbsp;&nbsp;&nbsp;</span></h1>
	    
	    
	    
	    <div class="plugin">
	        plugin: jquery/event/pause
	    </div>
	    
		
		
	</div>	
</div>


<p>The jquery/event/pause plugin adds the ability to pause and 
resume events. </p>

<pre><code class=" javascript">$(<span class="string">'#todos'</span>).bind(<span class="string">'show'</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span>
  ev.pause();

  $(<span class="keyword">this</span>).load(<span class="string">'todos.html'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    ev.resume();
  });
})
</code></pre>

<p>When an event is paused, stops calling other event handlers for the 
event (similar to event.stopImmediatePropagation() ).  But when 
resume is called on the event, it will begin calling events on event handlers
after the 'paused' event handler.</p>

<p>Pause-able events complement the <a href="#!jQuery.event.special.default">default</a>
events plugin, providing the ability to easy create widgets with 
an asynchronous API.  </p>

<h2>Example</h2>

<p>Consider a basic tabs widget that:</p>

<ul>
<li>trigger's a <strong>show</strong> event on panels when they are to be displayed</li>
<li>shows the panel after the show event.</li>
</ul>

<p>The sudo code for this controller might look like:</p>

<pre><code class=" javascript">$.Controller(<span class="string">'Tabs'</span>,{
  <span class="string">".button click"</span> : <span class="function"><span class="keyword">function</span><span class="params">( el )</span>{</span>
    <span class="keyword">var</span> panel = <span class="keyword">this</span>.getPanelFromButton( el );
    panel.triggerAsync(<span class="string">'show'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
      panel.show();
    })
  }
})
</code></pre>

<p>Someone using this plugin would be able to delay the panel showing until ready:</p>

<pre><code class=" javascript">$(<span class="string">'#todos'</span>).bind(<span class="string">'show'</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span>
  ev.pause();

  $(<span class="keyword">this</span>).load(<span class="string">'todos.html'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    ev.resume();
  });
})
</code></pre>

<p>Or prevent the panel from showing at all:</p>

<pre><code class=" javascript">$(<span class="string">'#todos'</span>).bind(<span class="string">'show'</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span>
  <span class="keyword">if</span>(! isReady()){
    ev.preventDefault();
  }
})
</code></pre>

<h2>Limitations</h2>

<p>The element and event handler that the <code>pause</code> is within can not be removed before 
resume is called.</p>

<h2>Big Example</h2>

<p>The following example shows a tabs widget where the user is prompted to save, ignore, or keep editing
a tab when a new tab is clicked.</p>

<div class="demo_wrapper demo" data-demo-src="jquery/event/pause/pause.html"><div class="demo">
  <h3 class="demo_header header reset">
    <span class="ui-icon ui-icon-triangle-1-s"></span>
    <a href="javascript://">Demo</a>
  </h3>
  <div class="demo_content content" style="padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 5px; height: 238px; ">
    <iframe height="100%" frameborder="0" src="file:////Users/alexisabril/Projects/javascriptmvc/jquery/event/pause/pause.html" style="height: 233px; "></iframe>
  </div>
  <h3 class="html_header header reset">
    <span class="ui-icon ui-icon-triangle-1-e"></span>
    <a href="javascript://">HTML</a>
  </h3>
  <div class="html_content content" style="display: none"><pre><code class="html"><span class="tag">&lt;<span class="keyword">ul</span><span class="attribute"> id=<span class="value">"tabs"</span></span><span class="attribute"> class=<span class="value">"ui-helper-clearfix"</span></span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#tab1"</span></span>&gt;</span>Tab 1<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#tab2"</span></span>&gt;</span>Tab 2<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#tab3"</span></span>&gt;</span>Tab 3<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
<span class="tag">&lt;/<span class="keyword">ul</span>&gt;</span>
<span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"panels"</span></span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">form</span><span class="attribute"> id=<span class="value">"tab1"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
		Name: <span class="tag">&lt;<span class="keyword">input</span><span class="attribute"> name=<span class="value">"name"</span></span>&gt;</span>
		Age: <span class="tag">&lt;<span class="keyword">select</span><span class="attribute"> name=<span class="value">"age"</span></span>&gt;</span><span class="tag">&lt;<span class="keyword">option</span>&gt;</span>10<span class="tag">&lt;/<span class="keyword">option</span>&gt;</span><span class="tag">&lt;<span class="keyword">option</span>&gt;</span>20<span class="tag">&lt;/<span class="keyword">option</span>&gt;</span><span class="tag">&lt;/<span class="keyword">select</span>&gt;</span>
  <span class="tag">&lt;/<span class="keyword">form</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">form</span><span class="attribute"> id=<span class="value">"tab2"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
  		Yard: <span class="tag">&lt;<span class="keyword">select</span><span class="attribute"> name=<span class="value">"yard"</span></span>&gt;</span><span class="tag">&lt;<span class="keyword">option</span>&gt;</span>1<span class="tag">&lt;/<span class="keyword">option</span>&gt;</span><span class="tag">&lt;<span class="keyword">option</span>&gt;</span>2<span class="tag">&lt;/<span class="keyword">option</span>&gt;</span><span class="tag">&lt;/<span class="keyword">select</span>&gt;</span>
		Team: <span class="tag">&lt;<span class="keyword">input</span><span class="attribute"> name=<span class="value">"team"</span></span>&gt;</span>
  <span class="tag">&lt;/<span class="keyword">form</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">form</span><span class="attribute"> id=<span class="value">"tab3"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
  		Price: <span class="tag">&lt;<span class="keyword">input</span><span class="attribute"> name=<span class="value">"price"</span></span>&gt;</span>
		Comment: <span class="tag">&lt;<span class="keyword">textarea</span><span class="attribute"> name=<span class="value">"comment"</span></span>&gt;</span><span class="tag">&lt;/<span class="keyword">textarea</span>&gt;</span>
  <span class="tag">&lt;/<span class="keyword">form</span>&gt;</span>
<span class="tag">&lt;/<span class="keyword">div</span>&gt;</span></code></pre></div>
  <h3 class="source_header header reset">
    <span class="ui-icon ui-icon-triangle-1-e"></span>
    <a href="javascript://">Source</a>
  </h3>
  <div class="source_content content" style="display: none"><pre><code class="javascript">steal(<span class="string">"jquery/controller"</span>,<span class="string">'jquery/event/pause'</span>,<span class="string">'jquery/event/default'</span>)
	.then(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
		
$.Controller(<span class="string">"Tabs"</span>,{
  init : <span class="function"><span class="keyword">function</span><span class="params">(el)</span>{</span>
    $(el).children(<span class="string">"li:first"</span>).addClass(<span class="string">'active'</span>);
    <span class="keyword">var</span> tab = <span class="keyword">this</span>.tab;
    <span class="keyword">this</span>.element.children(<span class="string">"li:gt(0)"</span>).each(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
      tab($(<span class="keyword">this</span>)).hide()
    })
  },
  tab : <span class="function"><span class="keyword">function</span><span class="params">(li)</span>{</span>
    <span class="keyword">return</span> $(li.find(<span class="string">"a"</span>).attr(<span class="string">"href"</span>).match(<span class="regexp">/#.*/</span>)[<span class="number">0</span>])
  },
  <span class="string">"li click"</span> : <span class="function"><span class="keyword">function</span><span class="params">(el, ev)</span>{</span>
    ev.preventDefault();
	<span class="keyword">var</span> active = <span class="keyword">this</span>.find(<span class="string">'.active'</span>)
		old = <span class="keyword">this</span>.tab(active),
		cur = <span class="keyword">this</span>.tab(el);
	old.triggerAsync(<span class="string">'hide'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
		active.removeClass(<span class="string">'active'</span>)
		old.slideUp(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
			el.addClass(<span class="string">'active'</span>)
			cur.slideDown()
		});
	})
  }
})
  
<span class="comment">// adds the controller to the element</span>
$(<span class="string">"#tabs"</span>).tabs();

<span class="comment">// create a widget listens for change and marks as dirty</span>
$.Controller(<span class="string">"Dirtybit"</span>,{
	listensTo : [<span class="string">'set'</span>]
},{
	init : <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
		<span class="keyword">this</span>.element.data(<span class="string">'formData'</span>,<span class="keyword">this</span>.element.serialize())
	},
	<span class="string">"change"</span> : <span class="function"><span class="keyword">function</span><span class="params">(el)</span>{</span>
		<span class="keyword">this</span>.check()
	},
	keyup : <span class="function"><span class="keyword">function</span><span class="params">(el)</span>{</span>
		<span class="keyword">this</span>.check()
	},
	click : <span class="function"><span class="keyword">function</span><span class="params">(el)</span>{</span>
		<span class="keyword">this</span>.check()
	},
	check : <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
		<span class="keyword">var</span> el = <span class="keyword">this</span>.element;
		<span class="keyword">if</span>(el.serialize() == el.data(<span class="string">'formData'</span>)){
			el.removeClass(<span class="string">'dirty'</span>)
		}<span class="keyword">else</span>{
			el.addClass(<span class="string">'dirty'</span>)
		}
	},
	<span class="string">"set"</span> : <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
		<span class="keyword">this</span>.element.data(<span class="string">'formData'</span>,<span class="keyword">this</span>.element.serialize())
			.removeClass(<span class="string">'dirty'</span>);
	}
})

<span class="comment">// a modal width</span>
$.Controller(<span class="string">"Modal"</span>,{
	init : <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
		<span class="keyword">this</span>.element.show();
	},
	<span class="string">"a click"</span> : <span class="function"><span class="keyword">function</span><span class="params">(a)</span>{</span>
		<span class="keyword">this</span>.element.hide();
		<span class="keyword">this</span>.options[a.attr(<span class="string">'id'</span>)]();
		
		<span class="keyword">this</span>.destroy();
	}
})


<span class="comment">// create a saver widget</span>
$.Controller(<span class="string">"Saver"</span>,{
	listensTo : [<span class="string">'hide'</span>]
},{
	<span class="string">"hide"</span>: <span class="function"><span class="keyword">function</span><span class="params">(el, ev)</span>{</span>
		<span class="keyword">if</span> (el.hasClass(<span class="string">'dirty'</span>)) {
			ev.pause()
			$(<span class="string">'#modal'</span>).modal({
				yes: <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
					<span class="keyword">var</span> save = $(<span class="string">'&lt;span&gt;Saving&lt;/span&gt;'</span>).appendTo(el);
					$.post(<span class="string">"/update"</span>, el.serialize(), <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
						save.remove();
						el.trigger(<span class="string">'set'</span>);
						ev.resume();
					})
				},
				no: <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
					ev.resume();
				},
				cancel: <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
					ev.preventDefault();
					ev.resume();
				}
			})
		}
	}
});

$(<span class="string">"#panels .tab"</span>).dirtybit().saver();

<span class="comment">// a fake post method</span>
$.post = <span class="function"><span class="keyword">function</span><span class="params">(url,data, success)</span>{</span>
	setTimeout(success,<span class="number">500</span>)
};

});</code></pre></div>
</div>

</div>

<p>It's a long, but great example of how to do some pretty complex state management with JavaScriptMVC.</p></div>
			<div id="disqus_thread">We were unable to load Disqus. If you are a moderator please see our <a href="http://docs.disqus.com/help/83/">documentation on identifier and urls</a>.</div>
      <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
		</div>
	</div>
</div>
<div id="low">
	<a href="http://jupiterit.com">� Jupiter IT - JavaScriptMVC Training and Support</a>
	<a class="api_links" href="http://javascriptmvc.com/docs/api.html#&amp;who=api"></a>
</div>
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("<script src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'></script>"));
	GOOGLE_ANALYTICS_TRACKER_ID = "UA-xxxxxxxx-x";
</script><script src="http://www.google-analytics.com/ga.js" type="text/javascript"></script>
<script type="text/javascript">
	DOCS_LOCATION = "docs/" //adds searchData to this
	JMVCDOC_TIMESTAMP = 263779778
</script>
<script type="text/javascript" src="../steal/steal.js?documentjs/jmvcdoc">
</script>
<script type="text/javascript">
  window.disqus_identifier = window.location.hash;
  window.disqus_url = window.location.toString();
  steal('jquery/dom/route', 'http://jmvcs3.disqus.com/embed.js').then(function(){
    $.route.delegate('who', 'change', function(ev, attr, how, newVal, oldVal) {
	if (window.location.protocol !== "file:") { // avoid this for crawl script
		DISQUS.reset({
			reload: true,
			config: function(){
				this.page.identifier = window.location.hash;
				this.page.url = window.location.toString();
			}
		});
	}
    })
  });
</script>
<style type="text/css">
  body > iframe { width: 0;} 
  #dsq-content #dsq-form-area .dsq-attach-media-container iframe { height: 13px; padding: 0;}
</style>
	

</body>
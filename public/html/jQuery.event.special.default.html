<head>
	<title>JavaScriptMVC</title>
	<link rel="stylesheet" type="text/css" href="../documentjs/jmvcdoc/style.css">
	<link rel="shortcut icon" href="../documentjs/jmvcdoc/images/favicon.ico">
<link rel="stylesheet" href="file:////opt/local/share/java/tomcat6/webapps/jmvc31/jmvcdoc/style.css" type="text/css"></head><body>
<div id="documentation">
	<div id="top">
		<div class="topCorner">
			<div class="right"></div>
			<div class="left"></div>
		</div>
		<div class="content">
			<div id="searchRoundCorners">
				<input id="search" type="input" class="jmvcdoc_search">
			</div>
			<div id="defaults">
				<ul id="menu" class="ui-menu">
					<li class="ui-menu-item">
						<a class="menuLink" href="#&amp;search=core"><span class="menuSpan">Core</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="#favorites"><span class="menuSpan">Favorites</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../follow.html" title="Follow"><span class="menuSpan red">Follow</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../contribute.html" title="Contribute"><span class="menuSpan red">Contribute</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../code.html" title="Code"><span class="menuSpan red">Code</span></a>
					</li>
				</ul>
			</div>
			<div class="logo-text"><a href="http://javascriptmvc.com"><img src="../documentjs/jmvcdoc/images/logo80x30.png" class="logo-image"></a></div>
		</div>
		<div class="bottomCorner">
			<div>&nbsp;</div>
		</div>
	</div>
	<div id="bottom">
		<div id="nav" class="jmvcdoc_nav">


	<div id="selected">
		    
				
		<div class="content">
			    <a href="#!" class="selected choice page" style="padding-left: 20px">
			    	
					JavaScriptMVC
					
				</a>
				
		</div>
			
		<div class="spacer"><div>&nbsp;</div></div>
			
			
				
		<div class="content">
			    <a href="#!jquerymx" class="selected choice page" style="padding-left: 20px">
			    	
						<span class="remove" title="close"></span>
					
					jQueryMX
					
				</a>
				
		</div>
			
		<div class="spacer"><div>&nbsp;</div></div>
			
			
				
		<div class="content">
			    <a href="#!specialevents" class="selected choice page" style="padding-left: 20px">
			    	
						<span class="remove" title="close"></span>
					
					Special Events
					
				</a>
				
		</div>
			
			
	</div>

<div id="results" style="display: block">
	<div class="content">
	    
			
		    <a href="#!jQuery.Drag" class="result choice class" style="padding-left: 20px">
		    	$.Drag
			</a>
			
		
			
		    <a href="#!jQuery.Drop" class="result choice class" style="padding-left: 20px">
		    	$.Drop
			</a>
			
		
			
		    <a href="#!jquery.event.pause" class="result choice page" style="padding-left: 20px">
		    	Pause-Resume
			</a>
			
		
			
		    <a href="#!jQuery.event.special.default" class="result choice attribute open" style="padding-left: 20px">
		    	$.event.special.default
			</a>
			
		
			
		    <a href="#!jQuery.event.special.destroyed" class="result choice attribute" style="padding-left: 60px">
		    	destroyed
			</a>
			
		
			
		    <a href="#!jQuery.event.special.resize" class="result choice attribute" style="padding-left: 60px">
		    	resize
			</a>
			
		
			
		    <a href="#!jQuery.event.swipe" class="result choice class" style="padding-left: 40px">
		    	swipe
			</a>
			
		
			
		    <a href="#!jQuery.Event.prototype.key" class="result choice function" style="padding-left: 20px">
		    	$.Event.prototype.key
			</a>
			
		
			
		    <a href="#!jQuery.Hover" class="result choice class" style="padding-left: 20px">
		    	$.Hover
			</a>
			
		
	</div>
</div>


</div>
		<div id="doc_container">
			<div id="doc" class="jmvcdoc_content"><div class="top">
	<div class="content">
	    <h1>jQuery.event.special.default&nbsp;
	    	<span class="attribute type"><span class="typeEnd">attribute</span></span>&nbsp;
	    	<span class="favorite favoriteoff">&nbsp;&nbsp;&nbsp;</span></h1>
	    
	    
	    
	    <div class="plugin">
	        plugin: jquery/event/default
	    </div>
	    
		
	    <div class="download">
	        download: <a href="http://jmvcsite.heroku.com/pluginify?plugins[]=jquery/event/default/default.js"> jQuery.event.special.default</a>
	    </div>
	    
		
	    <div class="test">
	        test: <a href="file:////opt/local/share/java/tomcat6/webapps/jmvc31/jquery/event/default/qunit.html">qunit.html</a>
	    </div>
	    
	</div>
</div>

<p>Allows you to perform default actions as a result of an event.</p>

<p>Event based APIs are a powerful way of exposing functionality of your widgets.  It also fits in 
quite nicely with how the DOM works.</p>

<p>Like default events in normal functions (e.g. submitting a form), synthetic default events run after
all event handlers have been triggered and no event handler has called
preventDefault or returned false.</p>

<p>To listen for a default event, just prefix the event with default.</p>

<pre><code class=" javascript">$(<span class="string">"div"</span>).bind(<span class="string">"default.show"</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span> ... });
$(<span class="string">"ul"</span>).delegate(<span class="string">"li"</span>,<span class="string">"default.activate"</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span> ... });
</code></pre>

<h2>Example</h2>

<p>Lets look at how you could build a simple tabs widget with default events.
First with just jQuery:</p>

<p>Default events are useful in cases where you want to provide an event based 
API for users of your widgets.  Users can simply listen to your synthetic events and 
prevent your default functionality by calling preventDefault.  </p>

<p>In the example below, the tabs widget provides a show event.  Users of the 
tabs widget simply listen for show, and if they wish for some reason, call preventDefault 
to avoid showing the tab.</p>

<p>In this case, the application developer doesn't want to show the second 
tab until the checkbox is checked. </p>

<div class="demo_wrapper demo" data-demo-src="jquery/event/default/defaultjquery.html"><div class="demo">
  <h3 class="demo_header header reset">
    <span class="ui-icon ui-icon-triangle-1-s"></span>
    <a href="javascript://">Demo</a>
  </h3>
  <div class="demo_content content" style="padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 5px; height: 396px; ">
    <iframe height="100%" frameborder="0" src="file:////opt/local/share/java/tomcat6/webapps/jmvc31/jquery/event/default/defaultjquery.html" style="height: 391px; "></iframe>
  </div>
  <h3 class="html_header header reset">
    <span class="ui-icon ui-icon-triangle-1-e"></span>
    <a href="javascript://">HTML</a>
  </h3>
  <div class="html_content content" style="display: none"><pre><code class="html"><span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"tabs"</span></span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">ul</span>&gt;</span>
    <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#first"</span></span>&gt;</span>Part 1<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
    <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#second"</span></span>&gt;</span>Part 2<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
  <span class="tag">&lt;/<span class="keyword">ul</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"first"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
    <span class="tag">&lt;<span class="keyword">input</span><span class="attribute"> type=<span class="value">"checkbox"</span></span><span class="attribute"> id=<span class="value">"complete"</span></span>&gt;</span> Check to complete this part.
  <span class="tag">&lt;/<span class="keyword">div</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"second"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
    You completed part 1
  <span class="tag">&lt;/<span class="keyword">div</span>&gt;</span>
<span class="tag">&lt;/<span class="keyword">div</span>&gt;</span></code></pre></div>
  <h3 class="source_header header reset">
    <span class="ui-icon ui-icon-triangle-1-e"></span>
    <a href="javascript://">Source</a>
  </h3>
  <div class="source_content content" style="display: none"><pre><code class="javascript">steal(<span class="string">'jquery/event/default'</span>).then(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
<span class="comment">// create a tabs plugin</span>
<span class="comment">// this is code written by a widget developer, and provides an event based </span>
<span class="comment">// tabs API</span>
$.fn.tabs = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>

  <span class="comment">// finds the tab from the tab button</span>
  <span class="keyword">var</span> sub = <span class="function"><span class="keyword">function</span><span class="params">(el)</span>{</span>
    <span class="keyword">return</span> $(el.find(<span class="string">"a"</span>).attr(<span class="string">"href"</span>))
  }
  
  <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    <span class="keyword">var</span> tab = $(<span class="keyword">this</span>);
    
  <span class="comment">//set the first tab button as active</span>
  tab.find(<span class="string">"li:first"</span>).addClass(<span class="string">'active'</span>)
  <span class="comment">//hide all the other tabs</span>
  tab.find(<span class="string">".tab:gt(0)"</span>).hide();
    
  <span class="comment">//listen for a click on a tab button</span>
  tab.delegate(<span class="string">"li"</span>,<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span>
    ev.preventDefault();
    <span class="keyword">var</span> el = $(<span class="keyword">this</span>);
        

    <span class="keyword">if</span>( <span class="comment">// not active button</span>
	    !el.hasClass(<span class="string">'active'</span>)) {
			sub(el).triggerAsync(<span class="string">'show'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
				<span class="comment">// remove active and hide old active	</span>
			    sub(tab.find(<span class="string">".active"</span>).removeClass(<span class="string">"active"</span>)).hide();
				
				<span class="comment">//mark as active</span>
			    el.addClass(<span class="string">"active"</span>);
			})
    }
  })
    
  <span class="comment">// show a tab if default isn't prevented</span>
  .delegate(<span class="string">".tab"</span>,<span class="string">"default.show"</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span>
    $(<span class="keyword">this</span>).show();
  })
})
};

<span class="comment">// create tabs widget</span>
<span class="comment">// this is code written by an application developer using the tabs API</span>
<span class="comment">// this code is usually in a separate file from the tabs widget code</span>
$(<span class="string">"#tabs"</span>).tabs();

<span class="comment">// listen on the second tab for show</span>
$(<span class="string">"#second"</span>).bind(<span class="string">"show"</span>,<span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span>
  
  <span class="comment">//if complete isn't checked</span>
  <span class="keyword">if</span>(! $(<span class="string">"#complete"</span>)[<span class="number">0</span>].checked ){
  	
	<span class="comment">//prevent the default action!</span>
    ev.preventDefault();
  }
});
})</code></pre></div>
</div>

</div>

<p>Lets see how we would build this with JavaScriptMVC:</p>

<div class="demo_wrapper demo" data-demo-src="jquery/event/default/default.html"><div class="demo">
  <h3 class="demo_header header reset">
    <span class="ui-icon ui-icon-triangle-1-s"></span>
    <a href="javascript://">Demo</a>
  </h3>
  <div class="demo_content content" style="padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 5px; height: 396px; ">
    <iframe height="100%" frameborder="0" src="file:////opt/local/share/java/tomcat6/webapps/jmvc31/jquery/event/default/default.html" style="height: 391px; "></iframe>
  </div>
  <h3 class="html_header header reset">
    <span class="ui-icon ui-icon-triangle-1-e"></span>
    <a href="javascript://">HTML</a>
  </h3>
  <div class="html_content content" style="display: none"><pre><code class="html"><span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"tabs"</span></span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">ul</span>&gt;</span>
    <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#first"</span></span>&gt;</span>Part 1<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
    <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#second"</span></span>&gt;</span>Part 2<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
  <span class="tag">&lt;/<span class="keyword">ul</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"first"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
    <span class="tag">&lt;<span class="keyword">input</span><span class="attribute"> type=<span class="value">"checkbox"</span></span><span class="attribute"> id=<span class="value">"complete"</span></span>&gt;</span> Check to complete this part.
  <span class="tag">&lt;/<span class="keyword">div</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"second"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
    You completed part 1
  <span class="tag">&lt;/<span class="keyword">div</span>&gt;</span>
<span class="tag">&lt;/<span class="keyword">div</span>&gt;</span></code></pre></div>
  <h3 class="source_header header reset">
    <span class="ui-icon ui-icon-triangle-1-e"></span>
    <a href="javascript://">Source</a>
  </h3>
  <div class="source_content content" style="display: none"><pre><code class="javascript">steal(<span class="string">"jquery/controller"</span>,<span class="string">'jquery/event/default'</span>).then(<span class="function"><span class="keyword">function</span><span class="params">($)</span>{</span>
$.Controller(<span class="string">"Tabs"</span>,{
	init : <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
		<span class="keyword">this</span>.find(<span class="string">"li:first"</span>).addClass(<span class="string">'active'</span>)
		<span class="keyword">this</span>.find(<span class="string">".tab:gt(0)"</span>).hide();
	},
	<span class="string">"li click"</span> : <span class="function"><span class="keyword">function</span><span class="params">(el, ev)</span>{</span>
		ev.preventDefault();
		<span class="keyword">var</span> self = <span class="keyword">this</span>;
		<span class="keyword">if</span>(!el.hasClass(<span class="string">'active'</span>)){
			<span class="keyword">this</span>.sub(el).triggerAsync(<span class="string">'show'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
				self.sub(self.find(<span class="string">".active"</span>).removeClass(<span class="string">"active"</span>)).hide();
				el.addClass(<span class="string">"active"</span>);
			})
		}
	},
	sub : <span class="function"><span class="keyword">function</span><span class="params">(el)</span>{</span>
		<span class="keyword">return</span> $(el.find(<span class="string">"a"</span>).attr(<span class="string">"href"</span>))
	},
	<span class="string">".tab default.show"</span> : <span class="function"><span class="keyword">function</span><span class="params">(el)</span>{</span>
		el.show();
	}
})

$(<span class="string">"#tabs"</span>).tabs();
$(<span class="string">"#second"</span>).bind(<span class="string">"show"</span>,<span class="function"><span class="keyword">function</span><span class="params">(ev)</span>{</span>
	<span class="keyword">if</span>(! $(<span class="string">"#complete"</span>)[<span class="number">0</span>].checked ){
		ev.preventDefault();
	}
})

});</code></pre></div>
</div>

</div></div>
			<div id="disqus_thread"></div>
		</div>
	</div>
</div>
<div id="low">
	<a href="http://jupiterit.com">� Jupiter IT - JavaScriptMVC Training and Support</a>
	<a class="api_links" href="http://javascriptmvc.com/docs/api.html#&amp;who=api"></a>
</div>
<script src="http://www.google-analytics.com/ga.js" type="text/javascript"></script>
<script type="text/javascript">
	GOOGLE_ANALYTICS_TRACKER_ID = "UA-xxxxxxxx-x";
</script>
<script type="text/javascript">
	DOCS_LOCATION = "docs/" //adds searchData to this
	JMVCDOC_TIMESTAMP = 263436055
</script>
<script type="text/javascript" src="../steal/steal.js?jmvcdoc">
</script>
	

</body>
C({"name": "funcunit.maven", "type": "page", "comment": "<p>[http://maven.apache.org/ Maven] is a build tool, usually used for Java projects. FuncUnit can be \nrun from maven as part of the build, using the \n[http://maven.apache.org/plugins/maven-antrun-plugin/ maven antrun plugin].</p>\n\n<pre><code class='xml'> &lt;plugin>\n   &lt;artifactId>maven-antrun-plugin&lt;/artifactId>\n   &lt;version>1.6&lt;/version>\n   &lt;executions>\n     &lt;execution>\n       &lt;id>funcunit&lt;/id>\n       &lt;phase>test&lt;/phase>\n       &lt;configuration>\n         &lt;tasks>\n            &lt;echo>Running funcunit tests&lt;/echo>\n            &lt;exec dir=\"src/main/webapp/ui\" executable=\"src/main/webapp/ui/js\"\n                  resolveexecutable=\"true\" failonerror=\"true\">\n              &lt;arg value=\"-e\" />\n              &lt;arg value=\"funcunit/run\" />\n              &lt;arg value=\"phantomjs\" />\n              &lt;arg value=\"funcunit.html\" />\n            &lt;/exec>\n         &lt;/tasks>\n       &lt;/configuration>\n       &lt;goals>\n         &lt;goal>run&lt;/goal>\n       &lt;/goals>\n     &lt;/execution>\n   &lt;/executions>\n &lt;/plugin></code></pre>\n\n<h2>Failing on errors</h2>\n\n<p>To force maven to fail the build on errors, FuncUnit has to exit \"hard\" with exit code 1 if there's a \nfailure.</p>\n\n<ol>\n<li>Run the js script with the \"-e\" flag as shown above. This tells the batch script to exit \nhard if something throws an error.</li>\n<li>Set the failonerror=\"true\" flag in the maven antrun plugin xml, as shown above.</li>\n<li>Set the failOnError: true property in settings.js and use the xunit reporter (this is the default). If this \nproperty is set, xunit will exit with exit code 1 if there are failed tests.</li>\n</ol>", "title": "Maven", "parents": ["funcunit.integrations"], "order": 4, "src": "funcunit/pages/maven.md", "children": []})